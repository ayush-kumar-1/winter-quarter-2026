# Problem Set 2 - Problem 3 (GHH preferences)

## Setup and notation

Preferences:
\[
 u(C_t, N_t) = \ln\left(C_t - \frac{N_t^2}{2}\right), \quad X_t \equiv C_t - \frac{N_t^2}{2}.
\]

Production and capital accumulation:
\[
 Y_t = A_t K_{t-1}^{\alpha} N_t^{1-\alpha}, \quad K_t = (1-\delta)K_{t-1} + Y_t - C_t.
\]

Euler and labor FOC:
\[
\frac{1}{X_t} = \beta E_t\left[\frac{1}{X_{t+1}}\left(\alpha A_{t+1}K_t^{\alpha-1}N_{t+1}^{1-\alpha} + 1-\delta\right)\right],
\]
\[
(1-\alpha)A_t K_{t-1}^{\alpha} N_t^{-\alpha} = N_t \;\Rightarrow\; N_t^{1+\alpha} = (1-\alpha)A_t K_{t-1}^{\alpha}.
\]

Log deviations: \(\hat{x}_t = \log(x_t/x_{ss})\).
I use the parameters in `pset-1/shooting.py` via `ModelParams()`, and map the continuous-time discount rate to a discrete factor with \(\beta = 1/(1+\rho)\).

TFP process (temporary):
\[
\hat{a}_{t+1} = \rho_a \hat{a}_t, \quad \text{with} \; 0<\rho_a<1.
\]
Permanent TFP is the special case \(\rho_a=1\).
This corresponds to a one-time shock at \(t=1\) with \(\hat{a}_t = \rho_a^{t-1}\hat{a}_1\).

---

## (a) Log-linearized system and isoclines

From the GHH labor FOC:
\[
\hat{n}_t = \frac{1}{1+\alpha}\hat{a}_t + \frac{\alpha}{1+\alpha}\hat{k}_{t-1}.
\]

Substitute into production and the rental rate:
\[
\hat{y}_t = \frac{2}{1+\alpha}\hat{a}_t + \frac{2\alpha}{1+\alpha}\hat{k}_{t-1},
\]
\[
\hat{r}_t = \frac{2}{1+\alpha}\hat{a}_t - \frac{1-\alpha}{1+\alpha}\hat{k}_{t-1}.
\]

Capital accumulation (define \(s_y = Y_{ss}/K_{ss}\), \(s_c = C_{ss}/K_{ss}\)):
\[
\hat{k}_t = (1-\delta)\hat{k}_{t-1} + s_y \hat{y}_t - s_c \hat{c}_t.
\]
This can be written as
\[
\hat{k}_t = \phi_{kk}\hat{k}_{t-1} - s_c\hat{c}_t + \phi_{ka}\hat{a}_t,
\]
with
\[
\phi_{kk} = (1-\delta) + s_y\frac{2\alpha}{1+\alpha}, \quad \phi_{ka} = s_y\frac{2}{1+\alpha}.
\]

Euler equation in log-linear form:
\[
\hat{X}_t = E_t\left[\hat{X}_{t+1} - \phi_r\hat{r}_{t+1}\right],
\]
where
\[
\hat{X}_t = \chi_c \hat{c}_t + \chi_n \hat{n}_t, \quad \chi_c = \frac{C_{ss}}{X_{ss}}, \quad \chi_n = -\frac{N_{ss}^2}{X_{ss}},
\]
\[
\phi_r = \frac{r_{ss}}{r_{ss} + 1 - \delta}.
\]

**Capital isocline** (\(\hat{k}_t = \hat{k}_{t-1}\)):
\[
\hat{c}_t = \frac{\phi_{kk}-1}{s_c}\hat{k}_{t-1} + \frac{\phi_{ka}}{s_c}\hat{a}_t.
\]

**Euler isocline** (\(\hat{c}_t = E_t\hat{c}_{t+1}\)):
\[
\hat{c}_t = \gamma_k \hat{k}_{t-1} + \gamma_a \hat{a}_t,
\]
with
\[
\gamma_k = \frac{\chi_n\eta_k - (\chi_n\eta_k+\phi_r r_k)\phi_{kk}}{(\chi_n\eta_k+\phi_r r_k)\phi_{kc}},
\]
\[
\gamma_a = \frac{\chi_n\eta_a(1-\rho_a)+\phi_r r_a\rho_a-(\chi_n\eta_k+\phi_r r_k)\phi_{ka}}{(\chi_n\eta_k+\phi_r r_k)\phi_{kc}},
\]
where
\[
\eta_a=\frac{1}{1+\alpha},\; \eta_k=\frac{\alpha}{1+\alpha},\; r_a=\frac{2}{1+\alpha},\; r_k=-\frac{1-\alpha}{1+\alpha},\; \phi_{kc}=-s_c.
\]

The plotted isoclines are generated by `pset-2/ghh_isoclines.py` (I use \(\hat{a}_1=0.02\), \(\rho_a=0.9\) for temporary, and \(\rho_a=1\) for permanent).

---

## (b) Intuition and isocline shifts under a permanent TFP increase

**Capital isocline**: A permanent increase in \(A_t\) raises output for a given \(K_{t-1}\) and therefore raises the level of consumption consistent with \(\hat{k}_t=\hat{k}_{t-1}\). This shifts the capital isocline **upward** unambiguously.

**Euler isocline**: A permanent increase raises expected future productivity, which increases the expected return on saving (a force that favors lower \(C_t\)), but it also raises labor and output contemporaneously and in the future (which lowers marginal utility through the \(X_t\) term and pushes \(C_t\) up). In the GHH case, labor is pinned by \((A_t, K_{t-1})\), and the log-linear coefficient on \(\hat{a}_t\) in the Euler isocline is positive in the standard calibration, so the Euler isocline shifts **upward**. For temporary shocks, the sign of the shift can be more sensitive to parameters because the \(\chi_n\eta_a(1-\rho_a)\) term works in the opposite direction, but for a permanent shock (\(\rho_a=1\)) the upward shift is robust in this model.

---

## (c) Why \(\hat{c}_t\) jumps up on impact after a permanent TFP increase

A permanent TFP increase raises the present discounted value of lifetime resources. With consumption smoothing, the representative household chooses to raise consumption immediately rather than waiting for future output to materialize. This is the standard Permanent Income Hypothesis logic: a permanent income gain translates into a level increase in consumption. In the Euler equation, the higher expected future return and higher future labor/production lower future marginal utility, so optimality requires a higher \(C_t\) today (i.e., \(\hat{c}_t\) jumps upward on impact).

---

## (d) Temporary TFP shock: output and employment response vs separable utility

Under GHH preferences, the labor FOC eliminates the wealth effect on labor supply. A temporary TFP shock therefore induces a **larger** increase in employment and output compared to the separable utility case
\[
 u(C_t, N_t) = \frac{C_t^{1-\sigma}-1}{1-\sigma} - \theta\frac{N_t^{1+\phi}}{1+\phi}.
\]
With separable utility, the positive income effect partly offsets the substitution effect, muting labor and output responses. With GHH, only the substitution effect remains, so the response is stronger.

---

## LLM interaction log (prompts and brief responses)

Prompt 1:
"Derive the log-linearized system and the Euler/capital isoclines for the RBC model with GHH utility \(u(C,N)=\ln(C-N^2/2)\) and TFP shocks. Express the isoclines in \((\hat{k}_{t-1},\hat{c}_t)\) space."

Response (summary):
Derived labor FOC \(N_t^{1+\alpha}=(1-\alpha)A_tK_{t-1}^\alpha\), log-linear \(\hat{n}_t\), output/rental rate, linearized capital accumulation, and Euler equation with \(X_t=C_t-N_t^2/2\). Provided linear formulas for both isoclines.

Prompt 2:
"For a permanent TFP increase, how do the Euler and capital isoclines shift? Is the Euler shift ambiguous?"

Response (summary):
Capital isocline shifts up unambiguously. Euler isocline shifts up in the GHH calibration because higher expected returns and lower future marginal utility dominate; temporary shocks can make the sign more sensitive.

Prompt 3:
"Explain why consumption jumps up on impact after a permanent TFP increase and relate to PIH."

Response (summary):
Permanent TFP raises lifetime income; consumption jumps to smooth resources. This matches PIH and the Euler condition.

Prompt 4:
"Compare output/employment responses to a temporary TFP shock under GHH vs separable utility."

Response (summary):
GHH eliminates wealth effects on labor, so employment and output respond more strongly to a temporary productivity shock.
